<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Top og bund i dansk politik | etsyvni</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Top og bund i dansk politik" />
<meta name="author" content="Robin Engelhardt" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Dansk politik er meget mere end et valg mellem højre og venstre. En analyse af hvordan danske politikere har stemt i folketinget 2019-2020 viser, at kampen mellem ‘toppen’ og ‘bunden’, dvs. mellem et politisk establishment bestående af de store midterpartier, og et anti-establishment bestående af yderfløjspartierne, er næste lige så stor som kampen mellem højre- og venstrefløj." />
<meta property="og:description" content="Dansk politik er meget mere end et valg mellem højre og venstre. En analyse af hvordan danske politikere har stemt i folketinget 2019-2020 viser, at kampen mellem ‘toppen’ og ‘bunden’, dvs. mellem et politisk establishment bestående af de store midterpartier, og et anti-establishment bestående af yderfløjspartierne, er næste lige så stor som kampen mellem højre- og venstrefløj." />
<link rel="canonical" href="https://gavstrik.github.io/etsyvni/notebook/pca/folketinget/politik/2020/11/29/pca.html" />
<meta property="og:url" content="https://gavstrik.github.io/etsyvni/notebook/pca/folketinget/politik/2020/11/29/pca.html" />
<meta property="og:site_name" content="etsyvni" />
<meta property="og:image" content="https://gavstrik.github.io/etsyvni/images/ft151.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-11-29T00:00:00-06:00" />
<script type="application/ld+json">
{"description":"Dansk politik er meget mere end et valg mellem højre og venstre. En analyse af hvordan danske politikere har stemt i folketinget 2019-2020 viser, at kampen mellem ‘toppen’ og ‘bunden’, dvs. mellem et politisk establishment bestående af de store midterpartier, og et anti-establishment bestående af yderfløjspartierne, er næste lige så stor som kampen mellem højre- og venstrefløj.","url":"https://gavstrik.github.io/etsyvni/notebook/pca/folketinget/politik/2020/11/29/pca.html","@type":"BlogPosting","headline":"Top og bund i dansk politik","dateModified":"2020-11-29T00:00:00-06:00","datePublished":"2020-11-29T00:00:00-06:00","author":{"@type":"Person","name":"Robin Engelhardt"},"image":"https://gavstrik.github.io/etsyvni/images/ft151.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://gavstrik.github.io/etsyvni/notebook/pca/folketinget/politik/2020/11/29/pca.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/etsyvni/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://gavstrik.github.io/etsyvni/feed.xml" title="etsyvni" /><link rel="shortcut icon" type="image/x-icon" href="/etsyvni/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/etsyvni/">etsyvni</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/etsyvni/about/">About Me</a><a class="page-link" href="/etsyvni/search/">Search</a><a class="page-link" href="/etsyvni/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Top og bund i dansk politik</h1><p class="page-description">Dansk politik er meget mere end et valg mellem højre og venstre. En analyse af hvordan danske politikere har stemt i folketinget 2019-2020 viser, at kampen mellem 'toppen' og 'bunden', dvs. mellem et politisk establishment bestående af de store midterpartier, og et anti-establishment bestående af yderfløjspartierne, er næste lige så stor som kampen mellem højre- og venstrefløj.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-11-29T00:00:00-06:00" itemprop="datePublished">
        Nov 29, 2020
      </time>• 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Robin Engelhardt</span></span>
       • <span class="read-time" title="Estimated read time">
    
    
      34 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/etsyvni/categories/#notebook">notebook</a>
        &nbsp;
      
        <a class="category-tags-link" href="/etsyvni/categories/#pca">pca</a>
        &nbsp;
      
        <a class="category-tags-link" href="/etsyvni/categories/#folketinget">folketinget</a>
        &nbsp;
      
        <a class="category-tags-link" href="/etsyvni/categories/#politik">politik</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          <div class="px-2">

    <a href="https://github.com/gavstrik/etsyvni/tree/master/_notebooks/2020-11-29-pca.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/etsyvni/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/gavstrik/etsyvni/master?filepath=_notebooks%2F2020-11-29-pca.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/etsyvni/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/gavstrik/etsyvni/blob/master/_notebooks/2020-11-29-pca.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/etsyvni/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-11-29-pca.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Vi har for vane at opdele politik i højre- og venstrefløj. Den historiske årsag er oplysende: det var sådan medlemmerne af den franske nationalforsamling placerede sig efter den franske revolution i 1789. Dem til højre i salen var loyale over for konge og kirke, dem til venstre støttede revolutionen. På den måde undgik man de værste albuehug og <a href="https://www.youtube.com/watch?v=GSXQ1ZgH7NQ">slåskampe</a> mens man skændtes om Frankrings fremtid.</p>
<p>Hvordan burde de danske medlemmer af folketinget sidde i dag, hvis vi ville minimere risikoen for den slags håndgemæng? Spurgt på en anden måde: hvordan placerer man danske politiker i et lokale så deres politiske uenighed afspejles bedst muligt af deres indbyrdes afstande på en to-dimensionel flade?</p>
<p>Der findes faktisk en simpel matematisk metode til at finde ud af det på. Den kaldes en 'principal component analyse' (pca), og bliver brugt flittigt i maskinlæring og til at lave undersøgende dataanalyse. Gevinsten ved at bruge en pca på folketingets afstemninger er, at vi kan se om de politiske partier vitterlig stemmer i forhold til det vil forestiller os som en højre- og venstrefløj i dansk politik. Vi vil med andre ord kunne svare på om det virkelig er rigtig, at Enhedslisten og Dansk Folkeparti er længst fra hinanden. Vi vil også kunne finde ud af, hvordan partierne grupperer sig i forhold til andre akser, hvor afstandene måske er lige så store. Da der jo er lige så mange politiske synspunkter i folketinget som der er folketingsmedlemmer, er pca'en en rigtig god måde til at reducere de mange uenigheder ned til de to eller tre mest betydningsfulde uenigheds-typer der kendetegner dansk politik. En analyse på tværs af årene vil desuden kunne vise, hvordan partierne har bevæget sig i forhold til hinanden i løbet af årene.</p>
<p>Vi starter med at se på det danske folketing anno 2020:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://raw.githubusercontent.com/gavstrik/gavstrik.github.io/e0a252d8bda9d552874b7d3edbf5dd9e346d6a18/assets/publpics/folketinget_2020.svg" alt="" title="Folketinget 2020. Credits: https://parliamentdiagram.toolforge.org/parlitest.php"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p></p>
<div style="direction:ltr;line-height:23px;">
<span style="display:inline-block;vertical-align:top;box-sizing:border-box;width:34px;height:23px;overflow:hidden;font-size:15px;border:thin solid #333;background:#E6801A;color:#202122;text-align:center;"> </span> Enhedslisten: 13 mandater</div> <div style="direction:ltr;line-height:23px;">
<span style="display:inline-block;vertical-align:top;box-sizing:border-box;width:34px;height:23px;overflow:hidden;font-size:15px;border:thin solid #333;background:#E07EA8;color:#202122;text-align:center;"> </span> Socialistisk Folkeparti: 15 mandater</div> <div style="direction:ltr;line-height:23px;">
<span style="display:inline-block;vertical-align:top;box-sizing:border-box;width:34px;height:23px;overflow:hidden;font-size:15px;border:thin solid #333;background:#EF3B2C;color:#202122;text-align:center;"> </span> Siumut : 1 mandat</div> <div style="direction:ltr;line-height:23px;">
<span style="display:inline-block;vertical-align:top;box-sizing:border-box;width:34px;height:23px;overflow:hidden;font-size:15px;border:thin solid #333;background:#A82721;color:#202122;text-align:center;"> </span> Socialdemokratiet: 48 mandater</div> <div style="direction:ltr;line-height:23px;">
<span style="display:inline-block;vertical-align:top;box-sizing:border-box;width:34px;height:23px;overflow:hidden;font-size:15px;border:thin solid #333;background:#2B8738;color:#202122;text-align:center;"> </span> Alternativet: 1 mandat</div> <div style="direction:ltr;line-height:23px;">
<span style="display:inline-block;vertical-align:top;box-sizing:border-box;width:34px;height:23px;overflow:hidden;font-size:15px;border:thin solid #333;background:#737373;color:#202122;text-align:center;"> </span> Uden for folketingsgrupperne: 4 mandater</div> <div style="direction:ltr;line-height:23px;">
<span style="display:inline-block;vertical-align:top;box-sizing:border-box;width:34px;height:23px;overflow:hidden;font-size:15px;border:thin solid #333;background:#733280;color:#202122;text-align:center;"> </span> Radikale Venstre: 16 mandater</div> <div style="direction:ltr;line-height:23px;">
<span style="display:inline-block;vertical-align:top;box-sizing:border-box;width:34px;height:23px;overflow:hidden;font-size:15px;border:thin solid #333;background:#41B6C4;color:#202122;text-align:center;"> </span> Sambandsflokkurin: 1 mandat</div> <div style="direction:ltr;line-height:23px;">
<span style="display:inline-block;vertical-align:top;box-sizing:border-box;width:34px;height:23px;overflow:hidden;font-size:15px;border:thin solid #333;background:#67001F;color:#202122;text-align:center;"> </span> Javnaðarflokkurin: 1 mandat</div> <div style="direction:ltr;line-height:23px;">
<span style="display:inline-block;vertical-align:top;box-sizing:border-box;width:34px;height:23px;overflow:hidden;font-size:15px;border:thin solid #333;background:#980043;color:#202122;text-align:center;"> </span> Inuit Ataqatigiit: 1 mandat</div> <div style="direction:ltr;line-height:23px;">
<span style="display:inline-block;vertical-align:top;box-sizing:border-box;width:34px;height:23px;overflow:hidden;font-size:15px;border:thin solid #333;background:#254264;color:#202122;text-align:center;"> </span> Venstre: 42 mandater</div> <div style="direction:ltr;line-height:23px;">
<span style="display:inline-block;vertical-align:top;box-sizing:border-box;width:34px;height:23px;overflow:hidden;font-size:15px;border:thin solid #333;background:#96B226;color:#202122;text-align:center;"> </span> Det Konservative Folkeparti: 13 mandater</div> <div style="direction:ltr;line-height:23px;">
<span style="display:inline-block;vertical-align:top;box-sizing:border-box;width:34px;height:23px;overflow:hidden;font-size:15px;border:thin solid #333;background:#3FB2BE;color:#202122;text-align:center;"> </span> Liberal Alliance: 3 mandater</div> <div style="direction:ltr;line-height:23px;">
<span style="display:inline-block;vertical-align:top;box-sizing:border-box;width:34px;height:23px;overflow:hidden;font-size:15px;border:thin solid #333;background:#EAC73E;color:#202122;text-align:center;"> </span> Dansk Folkeparti: 16 mandater</div> <div style="direction:ltr;line-height:23px;">
<span style="display:inline-block;vertical-align:top;box-sizing:border-box;width:34px;height:23px;overflow:hidden;font-size:15px;border:thin solid #333;background:#127B7F;color:#202122;text-align:center;"> </span> Nye Borgerlige: 4 mandater</div>&lt;/td&gt;

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Der er ti danske partier og fire oversøiske. Og så er der fire (pr. 4. dec 5) mandater uden for folketingsgrupperne som udgør løsgængerne fra de Frie Grønne samt Simon Emil Ammitzbøll-Bille. Alle data finder vi via den frit tilgængelige database på oda.ft.dk.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p></p>
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">pyodbc</span> 
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> 
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">from</span> <span class="nn">adjustText</span> <span class="kn">import</span> <span class="n">adjust_text</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s1">'white'</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_context</span><span class="p">(</span><span class="s1">'notebook'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">"font.family"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"sans-serif"</span>
<span class="n">PLOTS_DIR</span> <span class="o">=</span> <span class="s1">'images'</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>

    </div>
</div>
</div>

    </details>
</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Vi starter med at kalde SQL serveren og skrive en søgning til oda-databasen, hvorefter resultatet importeres til en pandas dataframe. Den periode vi er interesseret i er perioden 2019-2020 som har id = 151.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p></p>
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">periodid</span> <span class="o">=</span> <span class="mi">151</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">pyodbc</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">'Driver={SQL Server};'</span>
                      <span class="s1">'Server=HUM1006903\SQLEXPRESS;'</span>
                      <span class="s1">'Database=oda_20201103;'</span>
                      <span class="c1">#'Database=oda;'</span>
                      <span class="s1">'Trusted_Connection=yes;'</span><span class="p">)</span>
<span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="n">sql_query</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql_query</span><span class="p">(</span><span class="s1">'SELECT </span><span class="se">\</span>
<span class="s1">        oda.dbo.Afstemning.id AS afstemning, </span><span class="se">\</span>
<span class="s1">        oda.dbo.Sag.periodeid, </span><span class="se">\</span>
<span class="s1">        oda.dbo.Periode.titel AS periode, </span><span class="se">\</span>
<span class="s1">        oda.dbo.Sag.titel AS titel, </span><span class="se">\</span>
<span class="s1">        oda.dbo.Sag.resume, </span><span class="se">\</span>
<span class="s1">        oda.dbo.Afstemning.konklusion, </span><span class="se">\</span>
<span class="s1">        oda.dbo.Sagstrin.dato, </span><span class="se">\</span>
<span class="s1">        oda.dbo.Stemme.typeid AS stemme, </span><span class="se">\</span>
<span class="s1">        oda.dbo.Aktør.fornavn, </span><span class="se">\</span>
<span class="s1">        oda.dbo.Aktør.efternavn, </span><span class="se">\</span>
<span class="s1">        oda.dbo.Aktør.biografi </span><span class="se">\</span>
<span class="s1">    FROM oda.dbo.Afstemning </span><span class="se">\</span>
<span class="s1">    JOIN oda.dbo.Stemme ON oda.dbo.Afstemning.id = oda.dbo.Stemme.afstemningid </span><span class="se">\</span>
<span class="s1">    JOIN oda.dbo.Aktør ON oda.dbo.Aktør.id = oda.dbo.Stemme.aktørid </span><span class="se">\</span>
<span class="s1">    JOIN oda.dbo.Sagstrin ON oda.dbo.Sagstrin.id = oda.dbo.Afstemning.sagstrinid </span><span class="se">\</span>
<span class="s1">    JOIN oda.dbo.Sag ON oda.dbo.Sag.id = oda.dbo.Sagstrin.sagid </span><span class="se">\</span>
<span class="s1">    JOIN oda.dbo.Periode ON oda.dbo.Sag.periodeid = oda.dbo.Periode.id </span><span class="se">\</span>
<span class="s1">    WHERE oda.dbo.Sag.periodeid='</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">periodid</span><span class="p">)</span><span class="o">+</span><span class="s1">';'</span><span class="p">,</span> <span class="n">conn</span><span class="p">)</span>

<span class="n">sql_query</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

    </details>
<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>afstemning</th>
      <th>periodeid</th>
      <th>periode</th>
      <th>titel</th>
      <th>resume</th>
      <th>konklusion</th>
      <th>dato</th>
      <th>stemme</th>
      <th>fornavn</th>
      <th>efternavn</th>
      <th>biografi</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>7165</td>
      <td>151</td>
      <td>2019-20</td>
      <td>Forslag til folketingsbeslutning om danske mil...</td>
      <td>Med folketingsbeslutningen får regeringen Folk...</td>
      <td>Forslaget blev vedtaget. For stemte 106 (S, V,...</td>
      <td>2019-10-24</td>
      <td>1</td>
      <td>Erling</td>
      <td>Bonnesen</td>
      <td>&lt;member&gt;&lt;url&gt;/medlemmer/mf/e/erling-bonnesen&lt;/...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>7165</td>
      <td>151</td>
      <td>2019-20</td>
      <td>Forslag til folketingsbeslutning om danske mil...</td>
      <td>Med folketingsbeslutningen får regeringen Folk...</td>
      <td>Forslaget blev vedtaget. For stemte 106 (S, V,...</td>
      <td>2019-10-24</td>
      <td>1</td>
      <td>Morten</td>
      <td>Bødskov</td>
      <td>&lt;member&gt;&lt;url&gt;/medlemmer/mf/m/morten-boedskov&lt;/...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>7165</td>
      <td>151</td>
      <td>2019-20</td>
      <td>Forslag til folketingsbeslutning om danske mil...</td>
      <td>Med folketingsbeslutningen får regeringen Folk...</td>
      <td>Forslaget blev vedtaget. For stemte 106 (S, V,...</td>
      <td>2019-10-24</td>
      <td>1</td>
      <td>Bent</td>
      <td>Bøgsted</td>
      <td>&lt;member&gt;&lt;url&gt;/medlemmer/mf/b/bent-boegsted&lt;/ur...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>7165</td>
      <td>151</td>
      <td>2019-20</td>
      <td>Forslag til folketingsbeslutning om danske mil...</td>
      <td>Med folketingsbeslutningen får regeringen Folk...</td>
      <td>Forslaget blev vedtaget. For stemte 106 (S, V,...</td>
      <td>2019-10-24</td>
      <td>1</td>
      <td>Lennart</td>
      <td>Damsbo-Andersen</td>
      <td>&lt;member&gt;&lt;url&gt;/medlemmer/mf/l/lennart-damsbo-an...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>7165</td>
      <td>151</td>
      <td>2019-20</td>
      <td>Forslag til folketingsbeslutning om danske mil...</td>
      <td>Med folketingsbeslutningen får regeringen Folk...</td>
      <td>Forslaget blev vedtaget. For stemte 106 (S, V,...</td>
      <td>2019-10-24</td>
      <td>1</td>
      <td>Louise Schack</td>
      <td>Elholm</td>
      <td>&lt;member&gt;&lt;url&gt;/medlemmer/mf/l/louise-schack-elh...</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sql_query</span><span class="o">.</span><span class="n">afstemning</span><span class="o">.</span><span class="n">unique</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sql_query</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>323
57817
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Som man kan se, er der kun 323 afstemninger og knap 58.000 rækker i dataframen. Coronakrisen i 2020 betød at afstemninger mellem 28. maj 2020 og slut oktober blev foretaget ved håndsoprækkelse og derfor ikke er inkluderet i databasen.</p>
<p>I det følgende skal data renses og formatteres. Vi kan se, at tabellen ikke indeholder nogen kolonne, der angiver hvilket parti folketingsmedlemmerne tilhører. Det haves ikke i databasen. Eneste sted jeg kan se, at man kan finde et folketingsmedlems partitilknytning i data er i "biografi"-kolonnen, som består af en masse XML tags. For at ekstrahere partinavnet, der er placeret mellem tagsene "party", bruger jeg bibliotekten xml.etree:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p></p>
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">party</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">bio_string</span> <span class="ow">in</span> <span class="n">sql_query</span><span class="p">[</span><span class="s1">'biografi'</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">root</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">bio_string</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">"./party"</span><span class="p">):</span>
            <span class="n">party</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">party</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">continue</span>
<span class="n">sql_query</span><span class="p">[</span><span class="s1">'party'</span><span class="p">]</span> <span class="o">=</span> <span class="n">party</span>
<span class="c1">#sql_query.party.unique()</span>
</pre></div>

    </div>
</div>
</div>

    </details>
</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Næste skridt i rensningen af data består i at omkode de enkelte stemmer så deres numeriske værdi er normaliseret og kan bruges i analysen. Folketingets database har kodet dem sådan at et 1-tal betyder en stemme FOR, et 2-tal betyder IMOD, et 3-tal betyder FRAVÆR, og et 4-tal betyder "Hverken for eller imod". I stedet koder jeg dem sådan at 1 betyder FOR, -1 betyder "IMOD", og 0 betyder "hverken for eller imod. Desuden samler jeg for- og efternavn og beholder kun de kolonner, vi har brug for:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p></p>
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sql_query</span><span class="p">[</span><span class="s1">'navn'</span><span class="p">]</span> <span class="o">=</span> <span class="n">sql_query</span><span class="p">[[</span><span class="s1">'fornavn'</span><span class="p">,</span> <span class="s1">'efternavn'</span><span class="p">]]</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="s1">' '</span><span class="o">.</span><span class="n">join</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

    </details>
</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p></p>
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">sql_query</span><span class="p">[[</span><span class="s1">'afstemning'</span><span class="p">,</span> <span class="s1">'titel'</span><span class="p">,</span> <span class="s1">'resume'</span><span class="p">,</span> <span class="s1">'konklusion'</span><span class="p">,</span> <span class="s1">'navn'</span><span class="p">,</span> <span class="s1">'party'</span><span class="p">,</span> <span class="s1">'stemme'</span><span class="p">]]</span>
<span class="n">df</span><span class="p">[</span><span class="s1">'stemme'</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">to_replace</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">value</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">'stemme'</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">to_replace</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

    </details>
<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>afstemning</th>
      <th>titel</th>
      <th>resume</th>
      <th>konklusion</th>
      <th>navn</th>
      <th>party</th>
      <th>stemme</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>57812</th>
      <td>7490</td>
      <td>Folketinget konstaterer, at det aftalte loft o...</td>
      <td></td>
      <td>Forslaget blev vedtaget. For stemte 54 (S, RV,...</td>
      <td>Birgitte Bergman</td>
      <td>Det Konservative Folkeparti</td>
      <td>0</td>
    </tr>
    <tr>
      <th>57813</th>
      <td>7490</td>
      <td>Folketinget konstaterer, at det aftalte loft o...</td>
      <td></td>
      <td>Forslaget blev vedtaget. For stemte 54 (S, RV,...</td>
      <td>Birgitte Vind</td>
      <td>Socialdemokratiet</td>
      <td>0</td>
    </tr>
    <tr>
      <th>57814</th>
      <td>7490</td>
      <td>Folketinget konstaterer, at det aftalte loft o...</td>
      <td></td>
      <td>Forslaget blev vedtaget. For stemte 54 (S, RV,...</td>
      <td>Pernille Vermund</td>
      <td>Nye Borgerlige</td>
      <td>0</td>
    </tr>
    <tr>
      <th>57815</th>
      <td>7490</td>
      <td>Folketinget konstaterer, at det aftalte loft o...</td>
      <td></td>
      <td>Forslaget blev vedtaget. For stemte 54 (S, RV,...</td>
      <td>Theresa Berg Andersen</td>
      <td>Socialistisk Folkeparti</td>
      <td>0</td>
    </tr>
    <tr>
      <th>57816</th>
      <td>7490</td>
      <td>Folketinget konstaterer, at det aftalte loft o...</td>
      <td></td>
      <td>Forslaget blev vedtaget. For stemte 54 (S, RV,...</td>
      <td>Ruben Kidde</td>
      <td>Radikale Venstre</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Lad os lige se hvor mange stemmer der er i hver kategori:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Counter</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">stemme</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Counter({1: 22567, -1: 11244, 3: 20853, 0: 3153})</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Desværre viser det sig at der er rigtig mange fravær i folketinget (mange 3-taller), og manglende stemmer gør det vanskeligt at foretage en ordentlig PCA, fordi de gængs PCA-algoritmer ikke kan klare NaNs. Da der er mødepligt i folketinget, og alle folketingsmedlemmer SKAL stemme ved alle afstemninger, er det jo en mærkelig sag. Men det viser sig, at folketingets partier benytter sig af såkaldte 'clearingsaftaler', som er private aftaler mellem de forskellige folketingsgrupper. Aftalerne sikrer, at et antal folketingsmedlemmer fra hver partigruppe kan få 'fri' fra afstemningerne i folketingssalen, uden at der derved rokkes ved, hvilke partier som har flertal i Folketinget, eller ved, at der skal være mindst 90 medlemmer til stede, for at Folketinget er beslutningsdygtigt. Clearingaftalerne giver dermed mulighed for, at de politiske aktiviteter ikke går i stå, selv om der er møde og afstemninger i salen. Aftalerne giver plads til, at medlemmerne kan deltage i f.eks. politiske møder eller deltage i andre aktiviteter uden for Christiansborg, uden at afstemningerne i folketingssalen af den grund får et utilsigtet udfald.</p>
<p>I praksis indgås aftalerne typisk ved, at partigrupperne parvist aftaler for en hel folketingssamling, hvor mange medlemmer hver partigruppe kan 'cleare' hos hinanden - dvs. give lov til at blive væk fra afstemningerne, fordi den politiske modpart også beder et antal medlemmer blive væk. Når et medlem er clearet, stemmer medlemmet ikke i salen den pågældende dag. Hvordan clearingerne fordeles på medlemmer i partigrupperne kan veksle fra dag til dag, alt efter hvem der har behov for at være fri for at deltage i afstemningerne i salen. Det er typisk gruppesekretæren i den enkelte folketingsgruppe, som koordinerer fordelingen af clearingerne og sikrer, at man kan stille med det aftalte antal medlemmer ved eventuelle afstemninger. Det er også typisk gruppesekretæren, som tager kontakt til sin modpart i de andre partigrupper, hvis man pludselig har mandefald på grund af f.eks. sygdom eller lignende, og aftaler de nødvendige yderligere clearinger for en relevant periode. Det typiske mønster for clearingaftalerne er, at regeringspartierne clearer medlemmer med deres umiddelbare modpart. Dermed sikrer man lettest, at den politiske balance er bevaret på trods af clearingerne.</p>
<p>Efter en samtale med partisekretær Annette Lind (S), som i nuværende folketingssamling en den der sammen med Erling Bonnesen (V) koordinerer clearningsaftalerne for alle partierne, forstå jeg at hvis en person bliver clearet, så vil den person ALTID stemme ihht. partilinjen. Det vil sige at jeg kan skrive en funktion, der erstatter alle fravær med typetallet ("mode") for partiet for den givne afstemning. I tilfælde af at fravær er den hyppigste adfærd, vælger jeg i stedet den anden mest hyppige stemmetype. Og hvis alle medlemmer af et parti har været fraværende ved en afstemning (hvilket hyppigt sker for de grønlandske og færøske stemmer), sætter jeg dem til at være hverken for eller imod, dvs. til 0. Hvis et folketingsmedlem er "Uden for folketingsgrupperne", ændrer jeg FRAVÆR til "Hverken for eller imod" da jeg ikke kunne få bekræftet om løsgængerne også benytter sig af clearningsaftaler.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p></p>
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">get_most_frequent_vote</span><span class="p">(</span><span class="n">afstemning</span><span class="p">,</span> <span class="n">party</span><span class="p">):</span>
    <span class="n">df_ap</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">afstemning</span> <span class="o">==</span> <span class="n">afstemning</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">party</span> <span class="o">==</span> <span class="n">party</span><span class="p">)]</span>
    <span class="n">party_votes</span> <span class="o">=</span> <span class="n">df_ap</span><span class="o">.</span><span class="n">stemme</span><span class="o">.</span><span class="n">values</span>

    <span class="n">cnt</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">party_votes</span><span class="p">)</span>
    <span class="n">mostfrequent_vote</span> <span class="o">=</span> <span class="n">cnt</span><span class="o">.</span><span class="n">most_common</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">mostfrequent_vote</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">mostfrequent_vote</span> <span class="o">=</span> <span class="n">cnt</span><span class="o">.</span><span class="n">most_common</span><span class="p">()[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># set the second most frequent vote as the most frequent one.</span>
        <span class="k">except</span><span class="p">:</span> <span class="c1"># if all members of the party have been absent</span>
            <span class="n">mostfrequent_vote</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># set their most frequent vote to be "abstain"  </span>

    <span class="k">return</span> <span class="n">mostfrequent_vote</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s1">'stemme'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s1">'party'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Uden for folketingsgrupperne'</span><span class="p">:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">'stemme'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ifor_val</span> <span class="o">=</span> <span class="n">get_most_frequent_vote</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">'afstemning'</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="s1">'party'</span><span class="p">])</span>
            <span class="n">df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">'stemme'</span><span class="p">]</span> <span class="o">=</span> <span class="n">ifor_val</span>
<span class="n">Counter</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">stemme</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

    </details>
<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Counter({1: 35397, -1: 17254, 0: 5166})</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For at få data i det rigtige format, bliver vi dernæst nød til at reorganisere tabellen således at rækkerne viser de enkelte folketingsmedlemmer, søjlerne de enkelte afstemninger, og selve cellerne indeholder så stemmerne. Vi kan bruge pivot-funtionen i python:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p></p>
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dp</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'navn'</span><span class="p">,</span> <span class="s1">'party'</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'afstemning'</span><span class="p">],</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s1">'stemme'</span><span class="p">])</span>
<span class="n">dp</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">dp</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">dp</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span> <span class="c1"># get rid of the extra multicolumn "vote"</span>
<span class="n">dp</span> <span class="o">=</span> <span class="n">dp</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="p">[</span><span class="s1">'navn'</span><span class="p">,</span> <span class="s1">'party'</span><span class="p">])</span> <span class="c1"># make the multiindex [name, party] into two columns</span>
<span class="n">dp</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

    </details>
<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>navn</th>
      <th>party</th>
      <th>7165</th>
      <th>7166</th>
      <th>7167</th>
      <th>7168</th>
      <th>7169</th>
      <th>7170</th>
      <th>7171</th>
      <th>7172</th>
      <th>...</th>
      <th>7481</th>
      <th>7482</th>
      <th>7483</th>
      <th>7484</th>
      <th>7485</th>
      <th>7486</th>
      <th>7487</th>
      <th>7488</th>
      <th>7489</th>
      <th>7490</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Aaja Chemnitz Larsen</td>
      <td>Inuit Ataqatigiit</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Aki-Matilda Høegh-Dam</td>
      <td>Siumut</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Alex Vanopslagh</td>
      <td>Liberal Alliance</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>-1.0</td>
      <td>-1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>-1.0</td>
      <td>...</td>
      <td>-1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Anders Kronborg</td>
      <td>Socialdemokratiet</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>-1.0</td>
      <td>-1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>...</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Andreas Steenberg</td>
      <td>Radikale Venstre</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>-1.0</td>
      <td>-1.0</td>
      <td>1.0</td>
      <td>-1.0</td>
      <td>1.0</td>
      <td>...</td>
      <td>-1.0</td>
      <td>-1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 325 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Dernæst giver vi partierne en farve, så vi kan kende forskel på dem på det resulterende plot:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p></p>
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># compute the color that each MP should be, based on their party. color codes are taken from https://www.dr.dk/om-dr/designmanager/temapakker/folketingsvalg-2019</span>
<span class="n">color_dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">'Enhedslisten'</span> <span class="p">:</span> <span class="s1">'#E6801A'</span><span class="p">,</span>
        <span class="s1">'Socialistisk Folkeparti'</span>  <span class="p">:</span> <span class="s1">'#E07EA8'</span><span class="p">,</span>
        <span class="s1">'Sambandsflokkurin'</span> <span class="p">:</span> <span class="s1">'#41b6c4'</span><span class="p">,</span>
        <span class="s1">'Javnaðarflokkurin'</span> <span class="p">:</span> <span class="s1">'#67001f'</span><span class="p">,</span>
        <span class="s1">'Socialdemokratiet'</span> <span class="p">:</span> <span class="s1">'#A82721'</span><span class="p">,</span>
        <span class="s1">'Siumut'</span> <span class="p">:</span> <span class="s1">'#ef3b2c'</span><span class="p">,</span>
        <span class="s1">'Radikale Venstre'</span> <span class="p">:</span> <span class="s1">'#733280'</span><span class="p">,</span>
        <span class="s1">'Inuit Ataqatigiit'</span> <span class="p">:</span> <span class="s1">'#980043'</span><span class="p">,</span>
        <span class="s1">'Det Konservative Folkeparti'</span> <span class="p">:</span> <span class="s1">'#96B226'</span><span class="p">,</span>
        <span class="s1">'Liberal Alliance'</span>  <span class="p">:</span> <span class="s1">'#3FB2BE'</span><span class="p">,</span>
        <span class="s1">'Venstre'</span> <span class="p">:</span> <span class="s1">'#254264'</span><span class="p">,</span>
        <span class="s1">'Dansk Folkeparti'</span><span class="p">:</span> <span class="s1">'#EAC73E'</span><span class="p">,</span>
        <span class="s1">'Uden for folketingsgrupperne'</span> <span class="p">:</span> <span class="s1">'#737373'</span><span class="p">,</span>
        <span class="s1">'nan'</span> <span class="p">:</span> <span class="s1">'black'</span><span class="p">,</span>
        <span class="s1">'Alternativet'</span> <span class="p">:</span> <span class="s1">'#2B8738'</span><span class="p">,</span>
        <span class="s1">'Nye Borgerlige'</span> <span class="p">:</span> <span class="s1">'#127B7F'</span><span class="p">,</span>
        <span class="s1">'Kristendemokraterne'</span> <span class="p">:</span> <span class="s1">'#8B8474'</span><span class="p">,</span>
        <span class="s1">'Klaus Riskær Pedersen'</span> <span class="p">:</span> <span class="s1">'#6C8BB8'</span><span class="p">,</span>
        <span class="s1">'Stram Kurs'</span> <span class="p">:</span> <span class="s1">'#998F4D'</span><span class="p">,</span> 
        <span class="s1">'Nunatta Qitornai'</span> <span class="p">:</span> <span class="s1">'#c51b8a'</span><span class="p">,</span>
        <span class="s1">'Tjóðveldi'</span> <span class="p">:</span> <span class="s1">'#a6d96a'</span>
<span class="p">}</span>
<span class="k">def</span> <span class="nf">party_color</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">color_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="s1">'black'</span><span class="p">)</span>

<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">party_color</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">dp</span><span class="p">[</span><span class="s1">'party'</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

    </details>
</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>De originale data har lige så mange dimensioner som folketingsmedlemmer, men pca'en reducerer dem ned til tre eller endda kun to dimensioner. De to/tre dimensioner er så til gengæld dem, der viser størst varians i folketingsmedlemmernes stemmeadfærd, og kan derfor bruges som indikatorer for hvor meget folketingsmedlemmerne er uenige med hinanden. Dimensionerne er desuden ortogonale på hinanden, hvilket betyder at de er uafhængige af hinanden. Enhver korrelation mellem afstemningerne transformeres således til linæere ukorrelerede variable der kaldes 'komponenter'. PCA er altså en "usuperviseret" metode, der beregnet afstanden mellem partierne som en kompleks blanding af, hvordan der blev stemt i de 323 afstemninger der blev registreret i folketingssamlingen 2019-2020.</p>
<p>For at dimensions-reduktionen kan give et nogenlunde retvisende billede af forskellene er det dog vigtigt at de 2-3 principale komponenter fanger størstedelen af variansen i data. Forneden vælger vi antallet af komponenter til at være 3, og kalder den første komponent for xvector, den anden komponent for yvector, og den tredje zvector.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p></p>
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">num_folketingsmedlemmer</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span>
<span class="n">num_bills</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">dp</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span>
<span class="n">bills</span> <span class="o">=</span> <span class="n">dp</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="n">num_bills</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span>
<span class="n">dat</span> <span class="o">=</span> <span class="n">dp</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">2</span><span class="p">:</span><span class="n">num_bills</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span>

<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">pca</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">dat</span><span class="p">)</span>
<span class="n">xvector</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">components_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> 
<span class="n">yvector</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">components_</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">zvector</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">components_</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

<span class="n">xs</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">dat</span><span class="p">)[:,</span><span class="mi">0</span><span class="p">]</span> 
<span class="n">ys</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">dat</span><span class="p">)[:,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">zs</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">dat</span><span class="p">)[:,</span><span class="mi">2</span><span class="p">]</span>
<span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_</span><span class="p">,</span> <span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_ratio_</span>
</pre></div>

    </div>
</div>
</div>

    </details>
<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(array([59.93278144, 25.24262653, 16.02101912]),
 array([0.44414989, 0.18706807, 0.11872858]))</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Som det kan ses fanger den første komponent 44,4 procent af variansen i data. Det er ikke så meget som håbet (i de tidligere folketingsår kommer den typisk op på 60-70%), men skyldes nok det specielle Corona-år vi har haft. Vi må leve med det, og kan nu plotte resultatet for de to første komponenter:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p></p>
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ix_high</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">xvector</span><span class="p">)[</span><span class="o">-</span><span class="mi">5</span><span class="p">:]</span> <span class="c1"># returns an array of sorted indexes of the components</span>
<span class="n">ix_low</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">xvector</span><span class="p">)[:</span><span class="mi">5</span><span class="p">]</span> 
<span class="n">iy_high</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">yvector</span><span class="p">)[</span><span class="o">-</span><span class="mi">5</span><span class="p">:]</span> <span class="c1"># returns an array of sorted indexes of the components</span>
<span class="n">iy_low</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">yvector</span><span class="p">)[:</span><span class="mi">5</span><span class="p">]</span> 
<span class="n">ix_highest_and_lowest_comps</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ix_high</span><span class="p">,</span> <span class="n">ix_low</span><span class="p">)</span>
<span class="n">iy_highest_and_lowest_comps</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iy_high</span><span class="p">,</span> <span class="n">iy_low</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_arr_index_colors</span><span class="p">(</span><span class="n">color</span><span class="p">):</span>
    <span class="c1"># returns an array of indexes in the colors array corresponding to a certain party with color "color"</span>
    <span class="n">col_mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span> <span class="o">==</span> <span class="n">color</span><span class="p">,</span><span class="kc">True</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">col_index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">colors</span><span class="p">))[</span><span class="n">col_mask</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">col_index</span>

<span class="k">for</span> <span class="n">color</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">colors</span><span class="p">):</span>
    <span class="n">ix_color</span> <span class="o">=</span> <span class="n">get_arr_index_colors</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">xs</span><span class="p">[</span><span class="n">ix_color</span><span class="p">],</span> <span class="n">ys</span><span class="p">[</span><span class="n">ix_color</span><span class="p">],</span> <span class="n">c</span> <span class="o">=</span> <span class="n">color</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">color_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="nb">list</span><span class="p">(</span><span class="n">color_dict</span><span class="o">.</span><span class="n">values</span><span class="p">())</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">color</span><span class="p">)])</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ix_color</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">dp</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">'navn'</span><span class="p">],</span> <span class="p">(</span><span class="n">xs</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">ys</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ix_highest_and_lowest_comps</span><span class="p">:</span>
<span class="c1"># arrows project features as vectors onto PC axes</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">xvector</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="nb">max</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="n">yvector</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="nb">max</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span>
              <span class="n">color</span><span class="o">=</span><span class="s1">'grey'</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.0005</span><span class="p">,</span> <span class="n">head_width</span><span class="o">=</span><span class="mf">0.005</span><span class="p">)</span>
    <span class="n">texts</span> <span class="o">=</span> <span class="p">[</span><span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">xvector</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="nb">max</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span><span class="o">*</span><span class="mf">2.2</span><span class="p">,</span> <span class="n">yvector</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="nb">max</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span><span class="o">*</span><span class="mf">2.2</span><span class="p">,</span>
             <span class="nb">list</span><span class="p">(</span><span class="n">dat</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">)[</span><span class="n">i</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">'black'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">3</span><span class="p">)]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">iy_highest_and_lowest_comps</span><span class="p">:</span>
<span class="c1"># arrows project features as vectors onto PC axes</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">xvector</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="nb">max</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="n">yvector</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="nb">max</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span>
              <span class="n">color</span><span class="o">=</span><span class="s1">'grey'</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.0005</span><span class="p">,</span> <span class="n">head_width</span><span class="o">=</span><span class="mf">0.005</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">xvector</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="nb">max</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span><span class="o">*</span><span class="mf">2.2</span><span class="p">,</span> <span class="n">yvector</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="nb">max</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span><span class="o">*</span><span class="mf">2.2</span><span class="p">,</span>
             <span class="nb">list</span><span class="p">(</span><span class="n">dat</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">)[</span><span class="n">i</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">'black'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'white'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="n">adjust_text</span><span class="p">(</span><span class="n">texts</span><span class="p">)</span>

<span class="n">lgd</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">num_bills</span><span class="p">)</span><span class="o">+</span><span class="s1">' afstemninger'</span><span class="p">,</span> <span class="n">prop</span><span class="o">=</span><span class="p">{</span><span class="s1">'size'</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.05</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">'Folketingsperiode '</span> <span class="o">+</span> <span class="n">period_txt</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

<span class="c1"># invert the x-axis so that the "left wing" goes to the left and the "right wing" to the right. First grab a reference to the current axes and then set the xlimits to be the reverse of the current xlimits</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="c1"># vi vender akserne om, så det matcher med det visuelle udtryk om at venstrefløjen er på venstre side og højrefløjen på højre side.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="c1">#ax.set_xlim([25,-15])</span>
<span class="c1">#ax.set_ylim([12.5,-12.5])</span>

<span class="c1">#plt.tight_layout()</span>


<span class="c1"># Remember: save as pdf and transparent=True for Adobe Illustrator</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">PLOTS_DIR</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">PLOTS_DIR</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">PLOTS_DIR</span><span class="p">,</span> <span class="s1">'ft'</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">periodid</span><span class="p">)</span><span class="o">+</span><span class="s1">'.png'</span><span class="p">),</span> <span class="n">bbox_extra_artists</span><span class="o">=</span><span class="p">(</span><span class="n">lgd</span><span class="p">,),</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">'tight'</span><span class="p">,</span> <span class="n">transparent</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">800</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">PLOTS_DIR</span><span class="p">,</span> <span class="s1">'ft'</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">periodid</span><span class="p">)</span><span class="o">+</span><span class="s1">'.pdf'</span><span class="p">),</span> <span class="n">bbox_extra_artists</span><span class="o">=</span><span class="p">(</span><span class="n">lgd</span><span class="p">,),</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">'tight'</span><span class="p">,</span> <span class="n">transparent</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">800</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

    </details>
</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="/etsyvni/images/copied_from_nb/plots/ft151.png" alt="pca-resultat for folketinget 2019-2020"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>x-aksen giver et ganske godt billede af hvad vi normalt forestiller os som den ideologiske højre-venstre akse i dansk politik. Enhedslisten ligger yderst til venstre, og Dansk Folkeparti ligger yderst til højre (i hvert fald i årene før folketingsvalget i efteråret 2018), og i midten øverst ligger Socialdemokratiet. Der er dog et par overraskelser. De Radikale venstre ligger klart til venstre for Socialdemokratiet, ja faktisk tættere på SF end på S. De mest 'højreorienterede' partier i dansk politik er hverken Dansk Folkeparti eller de Nye Borgerlige. Det er Venstre og Det Konservative Folkeparti, to partier der i øvrigt er stort set uskelnelige i deres stemmerafgivelser. De oversøiske mandater roder rundt i midten, hvilket primært er en konsekvens af at de ofte afholder sig fra at stemme eller stemmer 'hverken for eller imod'.</p>
<p>Pilene, som udspringer fra (0,0) er de fem største eigenvektorer for covariansmatricen for hver komponent, og repræsenterer kernen i en pca: de viser retningen på de afstemninger som er væsentligst for de to første komponenter. F.eks. peger en vektor i retning af kl. 7:30, og den fortæller os, at afstemning 7393 (Forslag til lov om dyrevelfærd) var een af de afstemninger, der adskildte de venstreorienterede og "bund"-partierne mest fra resten (forslaget blev forkastet. For stemte 41 - DF, RV, SF, EL og ALT, og imod stemte 62 - S, V, KF, NB og LA).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Lad os prøve at se lidt nærmere på denne første komponent i PCA-analysen, som altså projicerer ned på en akse de største forskelle mellem de danske politikere, og som står for circa 45 % af variansen i data. Vi starter med at plotte et heat map for at se, hvilke afstemninger der har haft størst og mindst betydning for denne spredning.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p></p>
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># da der er 323 afstemninger tilføjer vil et ekstra element så vi har 12x27 elementer, </span>
<span class="c1"># som vi så kan plotte ved at bruge matshow. Jeg har brugt en farvekode som angiver de </span>
<span class="c1"># afstemninger der er vigtige for højrefløjen med blå, og dem der er vigtige for </span>
<span class="c1"># venstrefløjen med rød.</span>

<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bills</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">27</span><span class="p">)</span>
<span class="n">w</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">xvector</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">w</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">27</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">matshow</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">'seismic'</span><span class="p">)</span>
<span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">),</span> <span class="n">z</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">ndenumerate</span><span class="p">(</span><span class="n">b</span><span class="p">):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="s1">'</span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">z</span><span class="p">),</span> <span class="n">ha</span><span class="o">=</span><span class="s1">'center'</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">'center'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s1">'round'</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">'white'</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">'0.3'</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">fraction</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mf">0.04</span><span class="p">)</span> <span class="c1"># arguments shrink the colorbar </span>

<span class="c1"># Remember: save as pdf and transparent=True for Adobe Illustrator</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">PLOTS_DIR</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">PLOTS_DIR</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">PLOTS_DIR</span><span class="p">,</span> <span class="s1">'ft'</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">periodid</span><span class="p">)</span><span class="o">+</span><span class="s1">'_heatmap_1.png'</span><span class="p">),</span> <span class="n">transparent</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
<span class="c1"># plt.savefig(os.path.join(PLOTS_DIR, 'ft'+str(periodid)+'_heatmap_1.pdf'), transparent=True, dpi=800)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

    </details>
</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="/etsyvni/images/copied_from_nb/plots/ft151_heatmap_1.png" alt="heat map for første komponent"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Plottet viser i rødt de afstemninger som (hvis vedtaget) har rykket Danmark mod venstre, og i blåt de afstemninger som (hvis vedtaget) har rykket Danmark mod højre. Det er tydeligt at der er stor forskel på, hvor meget en bestemt afstemning betyder for denne første komponent. Vi kan prøve at printe resumeet for de fem vigtigste afstemninger i hver retning (højre og venstre), og se om de også repræsenterer politiske temaer, som vi typisk forbinder med en højre- og venstrefløj:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p></p>
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">'Her de mest polariserende afstemninger som de røde (dvs. venstrefløjen + S) stemte for og vandt:</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
<span class="k">for</span> <span class="n">lov</span> <span class="ow">in</span> <span class="n">bills</span><span class="p">[</span><span class="n">ix_high</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'afstemnings-id'</span><span class="p">,</span> <span class="n">lov</span><span class="p">)</span>
    <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">afstemning</span> <span class="o">==</span> <span class="n">lov</span><span class="p">]</span><span class="o">.</span><span class="n">titel</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">afstemning</span> <span class="o">==</span> <span class="n">lov</span><span class="p">]</span><span class="o">.</span><span class="n">konklusion</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">afstemning</span> <span class="o">==</span> <span class="n">lov</span><span class="p">]</span><span class="o">.</span><span class="n">resume</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'</span><span class="se">\n\n</span><span class="s1">'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

    </details>
<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Her de mest polariserende afstemninger som de røde (dvs. venstrefløjen + S) stemte for og vandt:

afstemnings-id 7399
('Forslag til lov om ændring af færdselsloven. (Forhøjelse af bødeniveauet for '
 'ulovlig afholdelse af hvil i køretøjet m.v.).')
('Forslaget blev vedtaget. For stemte 60 (S, RV, SF, EL og ALT), imod stemte '
 '49 (V, DF, KF, NB og LA), hverken for eller imod stemte 0.')
('Formålet med forslaget er at skærpe bødestraffen for ulovlig afholdelse af '
 'det regulære hvil i køretøjet. Forslaget indeholder derfor retningslinjer, '
 'hvorefter bødeniveauet forhøjes til en bøde på 10.000 kr. til chaufføren og '
 'en bøde på 20.000 kr. til vognmanden. \n'
 '\n'
 'Forslaget indeholder desuden en præcisering af, at retten til adgang uden '
 'retskendelse til brug for den administrative kontrol med virksomheders '
 'overholdelse af køre-hvile-tids-reglerne og kontrol med installatører og '
 'værksteder, som kan udføre installering, eftersyn, kontrol og reparation af '
 'takografer, er overgået til Transport- og Boligministeriet.\n'
 '\n'
 'Loven træder i kraft den 1. marts 2020.')



afstemnings-id 7386
('Forslag til lov om ændring af aktieavancebeskatningsloven og '
 'dødsboskatteloven. (Ophævelse af hovedaktionærnedslaget).')
('Forslaget blev vedtaget. For stemte 56 (S, RV, SF, EL og ALT), imod stemte '
 '47 (V, DF, KF, NB og LA), hverken for eller imod stemte 0.')
('Med lovforslaget foreslås det, at ophæve det særlige nedslag i den '
 'skattepligtige fortjeneste, som kan opnås ved afståelse af '
 'hovedaktionæraktier, der er erhvervet før den 19. maj 1993.')



afstemnings-id 7351
'Forslag til lov om et midlertidigt børnetilskud til visse forsørgere.'
('Forslaget blev vedtaget. For stemte 56 (S, RV, SF, EL og ALT), imod stemte '
 '47 (V, DF, KF, NB og LA), hverken for eller imod stemte 0.')
('Lovforslaget udmønter aftalen om et nyt midlertidigt børnetilskud, som '
 'udspringer af det såkaldte forståelsespapir "Retfærdig retning for Danmark" '
 'mellem regeringen (Socialdemokratiet), Radikale Venstre, Socialistisk '
 'Folkeparti og Enhedslisten.\n'
 '\n'
 'Med lovforslaget foreslås det at indføre et nyt midlertidigt skattefrit '
 'børnetilskud til børnefamilier med børn under 15 år, hvor en eller begge '
 'forældre er berørt af kontanthjælpsloftet og/eller integrationsydelsen.\n'
 '\n'
 'Med lovforslaget foreslås det, at det nye midlertidige børnetilskud udgør '
 '700 kr. pr. barn pr. måned for familier på integrationsydelse og '
 'uddannelsesparate uddannelseshjælpsmodtagere. Tilskuddet udgør 600 kr. pr. '
 'barn pr. måned til enlige forældre og 550 kr. pr. barn pr. måned til øvrige '
 'familier. Enlige forsørgere får derudover et tilskud på 650 kr. pr. måned '
 'uafhængigt af antallet af børn. Børnefamilierne kan maksimalt få det i '
 'børnetilskud, som de har mistet som følge af indførelsen af '
 'kontanthjælpsloftet og integrationsydelsen.\n'
 '\n'
 'Det foreslås, at lovforslaget træder i kraft 1. januar 2020 med virkning fra '
 '1. august 2019.')



afstemnings-id 7376
('Forslag til lov om ændring af lov om arbejdsløshedsforsikring m.v. '
 '(Afskaffelse af opholdskrav for ret til dagpenge m.v.).')
('Forslaget blev vedtaget. For stemte 59 (S, RV, SF, EL og ALT), imod stemte '
 '50 (V, DF, KF, NB og LA), hverken for eller imod stemte 0.')
('Med lovforslaget foreslås det at afskaffe opholdskravet for ret til '
 'dagpenge, der kræver ophold i riget, et EU/EØS-land eller Schweiz i 5 ud af '
 '12 år i 2019, 6 ud af 12 år i 2020 og 7 ud af 12 år fra 2021 og fremefter.\n'
 '\n'
 'Med lovforslaget foreslås det desuden, at der etableres en overgangsordning, '
 'der giver mulighed for at genoprette medlemsskabet af en a-kasse fra '
 'udmeldelsestidspunktet for personer, der har meldt sig ud, fordi de har '
 'været ramt af opholdskravet. Ordningen målrettes personer, som ikke opfyldte '
 'betingelserne i opholdskravet i 2019 og frem til afskaffelsen af '
 'opholdskravet den 1. februar 2020, og som meldte sig ud af en a-kasse i '
 'samme periode. \n'
 '\n'
 'Det foreslås, at lovforslaget træder i kraft den 1. februar 2020.')



afstemnings-id 7456
('Forslag til lov om ændring af revisorloven og lov om formidling af fast '
 'ejendom m.v. (Gebyrfinansiering af hvidvasktilsyn).')
('Forslaget blev vedtaget. For stemte 54 (S, RV, SF, EL og UFG), imod stemte '
 '41 (V, DF, KF, NB og LA), hverken for eller imod stemte 0.')
('Lovforslaget skaber hjemmel til at gebyrfinansiere de udgifter, som er '
 'forbundet med hvidvasktilsynet med godkendte revisorer og ejendomsmæglere.\n'
 '\n'
 'Loven skal træde i kraft den 1. januar 2021.\n')



</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p></p>
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">'Her de mest polariserende afstemninger som de blå (dvs. højrefløjen) stemte for og tabte:</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
<span class="k">for</span> <span class="n">lov</span> <span class="ow">in</span> <span class="n">bills</span><span class="p">[</span><span class="n">ix_low</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'afstemnings-id'</span><span class="p">,</span> <span class="n">lov</span><span class="p">)</span>
    <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">afstemning</span> <span class="o">==</span> <span class="n">lov</span><span class="p">]</span><span class="o">.</span><span class="n">titel</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">afstemning</span> <span class="o">==</span> <span class="n">lov</span><span class="p">]</span><span class="o">.</span><span class="n">konklusion</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">afstemning</span> <span class="o">==</span> <span class="n">lov</span><span class="p">]</span><span class="o">.</span><span class="n">resume</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'</span><span class="se">\n\n</span><span class="s1">'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

    </details>
<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Her de mest polariserende afstemninger som de blå (dvs. højrefløjen) stemte for og tabte:

afstemnings-id 7414
('Forslag til lov om ændring af lov om afgift af tinglysning af ejer- og '
 'panterettigheder m.v. (tinglysningsafgiftsloven), emballageafgiftsloven, lov '
 'om afgift af bekæmpelsesmidler og forskellige andre love. (Indeksering af de '
 'faste tinglysningsafgifter og en række miljøafgifter og genindførelse af '
 'registreringsafgiften på luftfartøjer m.v.).')
('Forslaget blev forkastet. For stemte 50 (V, DF, KF, NB og LA), imod stemte '
 '59 (S, RV, SF, EL og ALT), hverken for eller imod stemte 0.')
('Med lovforslaget foreslås det at indeksere afgifterne på tinglysning, '
 'råstoffer, emballager, bekæmpelsesmidler og spildevand frem til 2025.\n'
 '\n'
 'Indekseringen foreslås indført ved to satsforhøjelser i perioden 2020-2025. '
 'Afgifterne på råstoffer og tinglysning forhøjes i 2020 og 2023, og '
 'afgifterne på emballager, bekæmpelsesmidler og spildevand forhøjes i 2021 og '
 '2024. Afgifterne foreslås forhøjet med 5,5 pct. pr. gang.\n'
 '\n'
 'Desuden foreslås en registreringsafgift på luftfartøjer fra og med den 1. '
 'januar 2021, således at der indføres en afgift for registrering af '
 'ejerrettigheder over fly på 0,1 pct. af flyets værdi og en afgift for '
 'registrering af pantrettigheder i fly på 0,1 pct. af pantets værdi. For '
 'registrering af pant i fly, der vejer under 5.700 kg, eller som er '
 'registreret godkendt til højst 10 passagerer, er afgiften på 1,5 pct. af '
 'pantets værdi.\n'
 '\n'
 'Lovforslaget udmønter dele af aftale om finansloven for 2020 indgået den 2. '
 'december 2019 mellem regeringen (Socialdemokratiet), Radikal Venstre, '
 'Socialistisk Folkeparti, Enhedslisten og Alternativet.\n')



afstemnings-id 7248
('Forslag til lov om ændring af lov om Arbejdsgivernes Uddannelsesbidrag. '
 '(Modelparametre for erhvervsuddannelser til brug for beregning af '
 'praktikpladsafhængigt arbejdsgiverbidrag for 2020 og justering af det '
 'aktivitetsafhængige VEU-bidrag for 2020 m.v.).')
('Forslaget blev forkastet. For stemte 51 (V, DF, KF, NB og LA), imod stemte '
 '61 (S, RV, SF, EL og ALT), hverken for eller imod stemte 0.')
('Forslaget vedrører det praktikpladsafhængige AUB-bidrag, der blev aftalt ved '
 '”Trepartsaftale om tilstrækkelig og kvalificeret arbejdskraft i hele Danmark '
 'og praktikpladser” fra 2016, og det aktivitetsafhængige VEU-bidrag, der blev '
 'aftalt ved ”Trepartsaftalen om styrket og mere fleksibel voksen-, efter- og '
 'videreuddannelse (2018-2021)” fra 2017. \n'
 '\n'
 'I lov om Arbejdsgivernes Uddannelsesbidrag er det forudsat, at der årligt '
 'ved lov skal ske en fastsættelse af modelparametrene i det '
 'praktikpladsafhængige AUB-bidrag og af bidragssatsen i det '
 'aktivitetsafhængige VEU-bidrag. \n'
 '\n'
 'Forslaget har derfor til formål at fastsætte de årlige modelparametre i det '
 'praktikpladsafhængige AUB-bidrag for de enkelte erhvervsuddannelser for 2020 '
 'i bilag 1 til lov om Arbejdsgivernes Uddannelsesbidrag og at indføre den '
 'årlige tilpasning af det aktivitetsafhængige VEU-bidrag for 2020.')



afstemnings-id 7385
('Forslag til lov om ændring af aktieavancebeskatningsloven og '
 'dødsboskatteloven. (Ophævelse af hovedaktionærnedslaget).')
('Forslaget blev forkastet. For stemte 47 (V, DF, KF, NB og LA), imod stemte '
 '57 (S, RV, SF, EL og ALT), hverken for eller imod stemte 0.')
('Med lovforslaget foreslås det, at ophæve det særlige nedslag i den '
 'skattepligtige fortjeneste, som kan opnås ved afståelse af '
 'hovedaktionæraktier, der er erhvervet før den 19. maj 1993.')



afstemnings-id 7237
('Forslag til lov om ændring af pensionsbeskatningsloven, '
 'pensionsafkastbeskatningsloven, selskabsskatteloven og forskellige andre '
 'love. (Videregivelse af oplysninger om diskvalificerende '
 'pensionsudbetalinger, smidiggørelse af regler for flytning af '
 'pensionsindbetalinger, justering af reglerne om omdannelse af pensionskasser '
 'til livsforsikringsselskaber og goodwillbeskatning m.v.).')
('Forslaget blev forkastet. For stemte 50 (V, DF, KF, NB og LA), imod stemte '
 '62 (S, RV, SF, EL og ALT), hverken for eller imod stemte 0.')
('Formålet med forslaget er at foretage en række tekniske justeringer på '
 'pensionsbeskatningsområdet. \n'
 '\n'
 'Forslaget indeholder bl.a. adgang til oplysninger om diskvalificerende '
 'udbetalinger for pensionsinstitutter, smidigere regler for flytning af '
 'pensionsindbetalinger mellem forskellige pensionsordninger og justeringer af '
 'reglerne for skattefri omstruktureringer af pensionsinstitutter. ')



afstemnings-id 7278
'Forslag til finanslov for finansåret 2020.'
('Forslaget blev forkastet. For stemte 50 (V, DF, KF, NB og LA), imod stemte '
 '61 (S, RV, SF, EL, ALT og SIU), hverken for eller imod stemte 0.')
('Finanslovforslaget fastlægger størrelsen og fordelingen af de samlede '
 'statslige udgifter og indtægter for finansåret 2020. Lovforslaget indeholder '
 'desuden overslag over statens udgifter for de efterfølgende 3 år.')



</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Så hvad viser dette? Højre-venstrefløjs-aksen handler om emner som ordentlige arbejdsforhold hos chauffører og vognmænd, om børnebidrag til enlige forsørgere, om afskaffelse af opholdskrav for ret til dagpenge, samt finanslovsting. Altså ting man kunne forvente at der var uenighed om mellem de to fløje, og som venstrefløjen + S fik igennem fordi de har flertal.</p>
<p>Hvad så med y-aksen, altså bunden vs. toppen i figuren? Her skal vi kigge på den anden komponent, og vi starter igen med at tegne et heatmap:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description" open="">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p></p>
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># nu det samme for anden component:</span>
<span class="n">w</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">yvector</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">w</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">27</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">matshow</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">'PiYG'</span><span class="p">)</span>
<span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">),</span> <span class="n">z</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">ndenumerate</span><span class="p">(</span><span class="n">b</span><span class="p">):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="s1">'</span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">z</span><span class="p">),</span> <span class="n">ha</span><span class="o">=</span><span class="s1">'center'</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">'center'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">boxstyle</span><span class="o">=</span><span class="s1">'round'</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">'white'</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">'0.3'</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">fraction</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mf">0.04</span><span class="p">)</span>

<span class="c1"># Remember: save as pdf and transparent=True for Adobe Illustrator</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">PLOTS_DIR</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">PLOTS_DIR</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">PLOTS_DIR</span><span class="p">,</span> <span class="s1">'ft'</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">periodid</span><span class="p">)</span><span class="o">+</span><span class="s1">'_heatmap_2.png'</span><span class="p">),</span> <span class="n">transparent</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
<span class="c1"># plt.savefig(os.path.join(PLOTS_DIR, 'ft'+str(periodid)+'_heatmap_2.pdf'), transparent=True, dpi=800)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

    </details>
</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="/etsyvni/images/copied_from_nb/plots/ft151_heatmap_2.png" alt="heat map for første komponent"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Vi printer igen de fem vigtigste afsteninger i hver sin retning (altså op og ned):</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p></p>
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">iyhigh</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">yvector</span><span class="p">)[</span><span class="o">-</span><span class="mi">5</span><span class="p">:]</span> <span class="c1"># returns an array of sorted indexes of the components</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">'Her de mest polariserende afstemninger som de grønne (dvs. bunden) stemte for og tabte:</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
<span class="k">for</span> <span class="n">lov</span> <span class="ow">in</span> <span class="n">bills</span><span class="p">[</span><span class="n">iyhigh</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'afstemnings-id'</span><span class="p">,</span> <span class="n">lov</span><span class="p">)</span>
    <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">afstemning</span> <span class="o">==</span> <span class="n">lov</span><span class="p">]</span><span class="o">.</span><span class="n">titel</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">afstemning</span> <span class="o">==</span> <span class="n">lov</span><span class="p">]</span><span class="o">.</span><span class="n">konklusion</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">afstemning</span> <span class="o">==</span> <span class="n">lov</span><span class="p">]</span><span class="o">.</span><span class="n">resume</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'</span><span class="se">\n\n</span><span class="s1">'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

    </details>
<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Her de mest polariserende afstemninger som de grønne (dvs. bunden) stemte for og tabte:

afstemnings-id 7393
'Forslag til lov om dyrevelfærd (dyrevelfærdsloven).'
('Forslaget blev forkastet. For stemte 41 (DF, RV, SF, EL og ALT), imod stemte '
 '62 (S, V, KF, NB og LA), hverken for eller imod stemte 0.')
('Forslaget gennemfører en forenkling af lovgivningsstrukturen på '
 'dyrevelfærdsområdet og gør lovgivningen mere overskuelig og brugervenlig i '
 'praksis ved at ophæve en række dyreartsspecifikke love. Forslaget er en ny '
 'hovedlov og er rammelov for størstedelen af dyrevelfærdslovgivningen med det '
 'formål at fremme god dyrevelfærd og respekt for dyr som levende væsener. '
 'Loven varetager dyrevelfærdsmæssige og dyreetiske hensyn. Forslaget '
 'viderefører som udgangspunkt gældende ret og indeholder hovedsagelig regler '
 'fra den gældende dyreværnslov, men det indeholder også enkelte nye regler '
 'som f.eks. forbud mod dyrekampe.')



afstemnings-id 7422
('Forslag til folketingsbeslutning om ens krav til kvalifikationer hos læger i '
 'Danmark, der er uddannet i henholdsvis EU-/EØS-lande og tredjelande.')
('Forslaget blev forkastet. For stemte 21 (DF, EL og NB), imod stemte 88 (S, '
 'V, RV, SF, Christian Juhl (EL), KF, LA og UFG), hverken for eller imod '
 'stemte 0.')
('For at sikre patientsikkerheden pålægger beslutningsforslaget regeringen at '
 'sørge for, at personer, der er uddannet i et EU-/EØS-land - bortset fra '
 'Danmark og de øvrige nordiske lande - og som søger om dansk lægeautorisation '
 'eller anerkendelse som speciallæge i Danmark, bliver mødt med de samme krav '
 'til og test af kvalifikationer som ansøgere, der er statsborgere og/eller '
 'uddannet i lande uden for EU/EØS. ')



afstemnings-id 7361
('Forslag til folketingsbeslutning om folketingsmedlemmers omkostningstillæg, '
 'eftervederlag, sygeorlov og afholdelse af barselsorlov.')
('Forslaget blev forkastet. For stemte 22 (DF, EL og NB), imod stemte 80 (S, '
 'V, RV, SF, KF, ALT og LA), hverken for eller imod stemte 0.')
('Beslutningsforslaget går ud på, at der skal gennemføres visse ændringer af '
 'folketingsmedlemmernes vilkår med hensyn til vederlag og orlov. Konkret '
 'indebærer forslaget, at medlemmer af Folketinget ikke skal kunne modtage '
 'omkostningstillæg, mens de er på barselsorlov, optjene eftervederlag, mens '
 'de bestrider et andet job, højst skal kunne modtage eftervederlag i 6 '
 'måneder, skal fremvise en lægeerklæring i forbindelse med sygeorlov, og at '
 'de skal omfattes af reglerne i barselsloven for afholdelse af '
 'barselsorlov. \n'
 '\n'
 'Beslutningsforslaget er en delvis genfremsættelse af beslutningsforslag nr. '
 'B 152, folketingsåret 2018-19, 1. samling.')



afstemnings-id 7362
('Forslag til folketingsbeslutning om indførelse af årlige '
 '2-procentsbesparelser på gruppestøttemidlerne til Folketingets partier.')
('Forslaget blev forkastet. For stemte 25 (Jens Joel (S), DF, EL, NB og LA), '
 'imod stemte 77 (S, V, RV, SF, KF og ALT), hverken for eller imod stemte 0.')
('Beslutningsforslaget indebærer, at der skal indføres årlige besparelser på 2 '
 'pct. på gruppestøttemidlerne til Folketingets partier svarende til det '
 'såkaldte omprioriteringsbidrag, som en række offentlige områder og '
 'institutioner er pålagt.')



afstemnings-id 7477
'Forslag til folketingsbeslutning om ændring af ferieloven (borgerforslag).'
('Forslaget blev forkastet. For stemte 20 (DF, EL, NB, LA og UFG), imod stemte '
 '65 (S, V, RV, KF og ALT), hverken for eller imod stemte 9 (SF).')
('Ifølge forslaget skal de såkaldte indefrosne feriepenge udbetales senest den '
 '1. september 2020.\n'
 '\n'
 'Der er tale om et borgerforslag, som inden for den fastsatte frist har '
 'opnået det antal støttetilkendegivelser fra borgere, som kræves for at få '
 'forslaget fremsat og behandlet som beslutningsforslag i Folketinget. \n'
 '\n'
 'Fremsættelsen er alene udtryk for, at forslagsstillerne på vegne af de '
 'partier, som støtter borgerforslagsordningen, påtager sig at opfylde en '
 'nødvendig betingelse for, at borgerforslaget kan blive behandlet i '
 'Folketinget i overensstemmelse med intentionerne bag ordningen. ')



</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p></p>
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">iylow</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">yvector</span><span class="p">)[:</span><span class="mi">5</span><span class="p">]</span> 
<span class="nb">print</span><span class="p">(</span><span class="s1">'Her de mest polariserende afstemninger som de lilla (dvs. toppen) stemte for og vandt:</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
<span class="k">for</span> <span class="n">lov</span> <span class="ow">in</span> <span class="n">bills</span><span class="p">[</span><span class="n">iylow</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'afstemnings-id'</span><span class="p">,</span> <span class="n">lov</span><span class="p">)</span>
    <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">afstemning</span> <span class="o">==</span> <span class="n">lov</span><span class="p">]</span><span class="o">.</span><span class="n">titel</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">afstemning</span> <span class="o">==</span> <span class="n">lov</span><span class="p">]</span><span class="o">.</span><span class="n">konklusion</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">afstemning</span> <span class="o">==</span> <span class="n">lov</span><span class="p">]</span><span class="o">.</span><span class="n">resume</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'</span><span class="se">\n\n</span><span class="s1">'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

    </details>
<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Her de mest polariserende afstemninger som de lilla (dvs. toppen) stemte for og vandt:

afstemnings-id 7407
('Forslag til lov om ændring af lov om social service. (Ro og stabilitet for '
 'udsatte børn og unge og fuldbyrdelse af tvangsmæssige afgørelser om ændret '
 'anbringelsessted uden samtykke).')
('Forslaget blev vedtaget. For stemte 73 (S, V, RV og KF), imod stemte 35 (DF, '
 'SF, EL, ALT, NB og LA), hverken for eller imod stemte 0.')
('Med lovforslaget ændres lov om social service. Det foreslås blandt andet, at '
 'kommunerne får adgang til at fuldbyrde afgørelser om ændret anbringelsessted '
 'uden samtykke. Hvis denne fuldbyrdelse sker med bistand fra politiet, skal '
 'den registreres og indberettes af kommunen til Ankestyrelsen. Det forslås '
 'videre, at fuldbyrdelse af afgørelser skal ske med henblik på at sikre '
 'barnets eller den unges bedste.')



afstemnings-id 7363
('Folketinget noterer sig, at der har været politiske drøftelser i '
 'forligskredsen med henblik på at ændre offentlighedsloven. Folketinget '
 'noterer sig endvidere, at det i forligskredsen ikke har været muligt at nå '
 'til enighed om en ændring af offentlighedsloven. Endelig noterer Folketinget '
 'sig, at justitsministeren ikke finder behov for at genåbne drøftelserne om '
 'at ændre offentlighedsloven.')
('Forslaget blev vedtaget. For stemte 66 (S, V, Liselott Blixt (DF) og KF), '
 'imod stemte 44 (DF, RV, SF, EL, ALT, NB og LA), hverken for eller imod '
 'stemte 0.')
''



afstemnings-id 7326
('Forslag til lov om ændring af lov om offentlighed i forvaltningen. '
 '(Ophævelse af revisionsbestemmelse).')
('Forslaget blev vedtaget. For stemte 68 (S, V, KF og LA), imod stemte 46 (DF, '
 'RV, SF, EL, ALT, NB og UFG), hverken for eller imod stemte 0.')
('Det følger af offentlighedslovens § 44, at justitsministeren i '
 'folketingsåret 2018-19 skulle fremsætte lovforslag om revision af '
 'offentlighedslovens § 16 om postlister. Ved en postliste forstås en '
 'fortegnelse over dokumenter, der den pågældende dag er modtaget i eller '
 'afsendt af myndigheden. \n'
 '\n'
 'Som opfølgning på den generelle evaluering af offentlighedsloven har der '
 'været forligskredsdrøftelser om en ny aftale om offentlighedsloven, og bl.a. '
 'af den grund er revisionen af postlistebestemmelsen blevet udskudt i 2017 og '
 'i 2018. \n'
 '\n'
 'Da det ikke har været muligt at opnå enighed i forligskredsen om at ændre '
 'offentlighedsloven, herunder om at indføre en postlisteordning, foreslås '
 'det, at revisionsbestemmelsen i offentlighedslovens § 44 ophæves. \n'
 '\n'
 'Lovforslaget er en genfremsættelse af L 176 (2018-19, 1. samling).\n'
 '\n'
 'Det foreslås, at loven træder i kraft den 1. januar 2020.\n')



afstemnings-id 7341
('Forslag til lov om ændring af skatteforvaltningsloven. (Afledt skattemæssig '
 'virkning ved ekstraordinær genoptagelse af ejendomsvurderinger).')
('Forslaget blev vedtaget. For stemte 78 (S, V, RV, SF, KF, ALT og LA), imod '
 'stemte 22 (DF, EL og NB), hverken for eller imod stemte 0.')
('Lovforslaget handler om de dele af lovforslag nr. L 71, der omhandler afledt '
 'skattemæssig virkning ved ekstraordinær genoptagelse af ejendomsvurderinger.')



afstemnings-id 7485
('Forslag til lov om ændring af aktiesparekontoloven. (Forhøjelse af loftet '
 'for indskud på aktiesparekontoen).')
('Forslaget blev vedtaget. For stemte 71 (S, V, RV, KF, NB og LA), imod stemte '
 '25 (DF, SF, EL, ALT og UFG), hverken for eller imod stemte 0.')
('Det foreslås med lovforslaget at forhøje loftet for indskud på '
 'aktiesparekontoen fra 50.000 kr. i 2019 til 100.000 kr. i 2020.')



</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Hvad viser dette? De mest polariserende afstemninger mellem top og bund handler om ting som offentlighedloven (bunden vil have den ændret, toppen ikke vil), mere dyrevelfærd (toppen vil ikke), afskaffelse af EU-privilegier (toppen vil ikke), ligeberettigelse til social pension (toppen vil ikke), fjernelse af politikeres frynsegoder (toppen vil ikke), og om imødekommelse af borgerforslag (toppen vil ikke). Blandt de emner som blev gennemført, men bunden stemte imod er nye regler for tvangsanbringelser, indvandrere, og diverse økonomiske regler (DF hhv EL er dog typisk langt fra hinanden i disse sager), og igen en modstand mod at udskyde ændring af offentlighedloven.</p>
<p>Alt i alt kan man måske sige at bund versus top i Dansk politik handler om dem der vil fjerne privilegier fra et bestemt 'establishment', og dem der vil beholde privilegierne. Der er dog tale om forskellige typer af 'establishment'. Nogle gange er det den politiske elite vs. resten, nogle gange er det EU vs. resten af verden, nogle gange er det mennesker vs. dyr, og nogle gange er det de rige vs. de ikke-så-rige. Måske kan man med <a href="https://aciddc.wordpress.com/2017/05/05/larry-summers-wants-to-know-are-you-an-insider-or-an-outsider/">Larry Summers ord</a> sige, at den næst-vigtigste skillelinje i dansk politik, efter højre-venstre opdelingen, er den der adskiller 'insiders' fra 'outsiders'. Outsiders er de frie mennesker, der råber op og siger hvad de har lyst til, men ikke bestemmer noget som helst. Insiders er dem der kun siger det, der er accepteret at sige som insider, og de lytter ikke til outsiderne (som de kalder ekstremister). Til gengæld får insiderne lov til at tage alle de vigtige beslutninger.</p>

</div>
</div>
</div>
</div>



  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="gavstrik/etsyvni"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/etsyvni/notebook/pca/folketinget/politik/2020/11/29/pca.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/etsyvni/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/etsyvni/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/etsyvni/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Politisk analyse på en ny måde</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/gavstrik" title="gavstrik"><svg class="svg-icon grey"><use xlink:href="/etsyvni/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/robinengelhardt" title="robinengelhardt"><svg class="svg-icon grey"><use xlink:href="/etsyvni/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
